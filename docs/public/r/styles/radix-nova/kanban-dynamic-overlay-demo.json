{
  "name": "kanban-dynamic-overlay-demo",
  "dependencies": [
    "@dnd-kit/core",
    "@dnd-kit/modifiers",
    "@dnd-kit/sortable",
    "@dnd-kit/utilities",
    "lucide-react"
  ],
  "registryDependencies": [
    "badge",
    "button",
    "kanban"
  ],
  "files": [
    {
      "path": "examples/kanban-dynamic-overlay-demo.tsx",
      "content": "\"use client\";\r\n\r\nimport { GripVertical } from \"lucide-react\";\r\nimport * as React from \"react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Kanban,\r\n  KanbanBoard,\r\n  KanbanColumn,\r\n  KanbanColumnHandle,\r\n  KanbanItem,\r\n  KanbanOverlay,\r\n} from \"@/registry/bases/radix/ui/kanban\";\r\n\r\ninterface Task {\r\n  id: string;\r\n  title: string;\r\n  priority: \"low\" | \"medium\" | \"high\";\r\n  description?: string;\r\n  assignee?: string;\r\n  dueDate?: string;\r\n}\r\n\r\nconst COLUMN_TITLES: Record<string, string> = {\r\n  backlog: \"Backlog\",\r\n  inProgress: \"In Progress\",\r\n  review: \"Review\",\r\n  done: \"Done\",\r\n};\r\n\r\nexport default function KanbanDynamicOverlayDemo() {\r\n  const [columns, setColumns] = React.useState<Record<string, Task[]>>({\r\n    backlog: [\r\n      {\r\n        id: \"1\",\r\n        title: \"Add authentication\",\r\n        priority: \"high\",\r\n        assignee: \"John Doe\",\r\n        dueDate: \"2024-04-01\",\r\n      },\r\n      {\r\n        id: \"2\",\r\n        title: \"Create API endpoints\",\r\n        priority: \"medium\",\r\n        assignee: \"Jane Smith\",\r\n        dueDate: \"2024-04-05\",\r\n      },\r\n      {\r\n        id: \"3\",\r\n        title: \"Write documentation\",\r\n        priority: \"low\",\r\n        assignee: \"Bob Johnson\",\r\n        dueDate: \"2024-04-10\",\r\n      },\r\n    ],\r\n    inProgress: [\r\n      {\r\n        id: \"4\",\r\n        title: \"Design system updates\",\r\n        priority: \"high\",\r\n        assignee: \"Alice Brown\",\r\n        dueDate: \"2024-03-28\",\r\n      },\r\n      {\r\n        id: \"5\",\r\n        title: \"Implement dark mode\",\r\n        priority: \"medium\",\r\n        assignee: \"Charlie Wilson\",\r\n        dueDate: \"2024-04-02\",\r\n      },\r\n    ],\r\n    done: [\r\n      {\r\n        id: \"7\",\r\n        title: \"Setup project\",\r\n        priority: \"high\",\r\n        assignee: \"Eve Davis\",\r\n        dueDate: \"2024-03-25\",\r\n      },\r\n      {\r\n        id: \"8\",\r\n        title: \"Initial commit\",\r\n        priority: \"low\",\r\n        assignee: \"Frank White\",\r\n        dueDate: \"2024-03-24\",\r\n      },\r\n    ],\r\n  });\r\n\r\n  return (\r\n    <Kanban\r\n      value={columns}\r\n      onValueChange={setColumns}\r\n      getItemValue={(item) => item.id}\r\n    >\r\n      <KanbanBoard className=\"grid auto-rows-fr grid-cols-3\">\r\n        {Object.entries(columns).map(([columnValue, tasks]) => (\r\n          <TaskColumn key={columnValue} value={columnValue} tasks={tasks} />\r\n        ))}\r\n      </KanbanBoard>\r\n      <KanbanOverlay>\r\n        {({ value, variant }) => {\r\n          if (variant === \"column\") {\r\n            const tasks = columns[value] ?? [];\r\n\r\n            return <TaskColumn value={value} tasks={tasks} />;\r\n          }\r\n\r\n          const task = Object.values(columns)\r\n            .flat()\r\n            .find((task) => task.id === value);\r\n\r\n          if (!task) return null;\r\n\r\n          return <TaskCard task={task} />;\r\n        }}\r\n      </KanbanOverlay>\r\n    </Kanban>\r\n  );\r\n}\r\n\r\ninterface TaskCardProps\r\n  extends Omit<React.ComponentProps<typeof KanbanItem>, \"value\"> {\r\n  task: Task;\r\n}\r\n\r\nfunction TaskCard({ task, ...props }: TaskCardProps) {\r\n  return (\r\n    <KanbanItem key={task.id} value={task.id} asChild {...props}>\r\n      <div className=\"rounded-md border bg-card p-3 shadow-xs\">\r\n        <div className=\"flex flex-col gap-2\">\r\n          <div className=\"flex items-center justify-between gap-2\">\r\n            <span className=\"line-clamp-1 font-medium text-sm\">\r\n              {task.title}\r\n            </span>\r\n            <Badge\r\n              variant={\r\n                task.priority === \"high\"\r\n                  ? \"destructive\"\r\n                  : task.priority === \"medium\"\r\n                    ? \"default\"\r\n                    : \"secondary\"\r\n              }\r\n              className=\"pointer-events-none h-5 rounded-sm px-1.5 text-[11px] capitalize\"\r\n            >\r\n              {task.priority}\r\n            </Badge>\r\n          </div>\r\n          <div className=\"flex items-center justify-between text-muted-foreground text-xs\">\r\n            {task.assignee && (\r\n              <div className=\"flex items-center gap-1\">\r\n                <div className=\"size-2 rounded-full bg-primary/20\" />\r\n                <span className=\"line-clamp-1\">{task.assignee}</span>\r\n              </div>\r\n            )}\r\n            {task.dueDate && (\r\n              <time className=\"text-[10px] tabular-nums\">{task.dueDate}</time>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </KanbanItem>\r\n  );\r\n}\r\n\r\ninterface TaskColumnProps\r\n  extends Omit<React.ComponentProps<typeof KanbanColumn>, \"children\"> {\r\n  tasks: Task[];\r\n}\r\n\r\nfunction TaskColumn({ value, tasks, ...props }: TaskColumnProps) {\r\n  return (\r\n    <KanbanColumn value={value} {...props}>\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"font-semibold text-sm\">{COLUMN_TITLES[value]}</span>\r\n          <Badge variant=\"secondary\" className=\"pointer-events-none rounded-sm\">\r\n            {tasks.length}\r\n          </Badge>\r\n        </div>\r\n        <KanbanColumnHandle asChild>\r\n          <Button variant=\"ghost\" size=\"icon\">\r\n            <GripVertical className=\"h-4 w-4\" />\r\n          </Button>\r\n        </KanbanColumnHandle>\r\n      </div>\r\n      <div className=\"flex flex-col gap-2 p-0.5\">\r\n        {tasks.map((task) => (\r\n          <TaskCard key={task.id} task={task} asHandle />\r\n        ))}\r\n      </div>\r\n    </KanbanColumn>\r\n  );\r\n}\r\n",
      "type": "registry:example",
      "target": ""
    }
  ],
  "type": "registry:example"
}