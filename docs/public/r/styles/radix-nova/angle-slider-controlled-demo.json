{
  "name": "angle-slider-controlled-demo",
  "dependencies": [
    "motion",
    "lucide-react"
  ],
  "registryDependencies": [
    "angle-slider",
    "button"
  ],
  "files": [
    {
      "path": "examples/angle-slider-controlled-demo.tsx",
      "content": "\"use client\";\r\n\r\nimport { RotateCcwIcon, ShuffleIcon } from \"lucide-react\";\r\nimport { animate } from \"motion/react\";\r\nimport * as React from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  AngleSlider,\r\n  AngleSliderRange,\r\n  AngleSliderThumb,\r\n  AngleSliderTrack,\r\n  AngleSliderValue,\r\n} from \"@/registry/bases/radix/ui/angle-slider\";\r\n\r\nexport default function AngleSliderControlledDemo() {\r\n  const [value, setValue] = React.useState([180]);\r\n  const animationRef = React.useRef<ReturnType<typeof animate> | null>(null);\r\n\r\n  const animateToValue = React.useCallback(\r\n    (targetValue: number) => {\r\n      if (animationRef.current) {\r\n        animationRef.current.stop();\r\n      }\r\n\r\n      const currentValue = value[0] ?? 0;\r\n\r\n      let diff = targetValue - currentValue;\r\n      if (diff > 180) {\r\n        diff -= 360;\r\n      } else if (diff < -180) {\r\n        diff += 360;\r\n      }\r\n\r\n      animationRef.current = animate(0, diff, {\r\n        duration: 0.4,\r\n        ease: [0.25, 0.46, 0.45, 0.94],\r\n        onUpdate: (progress: number) => {\r\n          const animatedValue = currentValue + progress;\r\n          const normalizedValue = Math.round(\r\n            ((animatedValue % 360) + 360) % 360,\r\n          );\r\n          setValue([normalizedValue]);\r\n        },\r\n        onComplete: () => {\r\n          setValue([targetValue]);\r\n          animationRef.current = null;\r\n        },\r\n      });\r\n    },\r\n    [value],\r\n  );\r\n\r\n  const onReset = React.useCallback(() => {\r\n    animateToValue(0);\r\n  }, [animateToValue]);\r\n\r\n  const onRandomize = React.useCallback(() => {\r\n    animateToValue(Math.floor(Math.random() * 360));\r\n  }, [animateToValue]);\r\n\r\n  React.useEffect(() => {\r\n    return () => {\r\n      if (animationRef.current) {\r\n        animationRef.current.stop();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4\">\r\n      <div className=\"flex items-center gap-3\">\r\n        <Button variant=\"outline\" size=\"sm\" onClick={onReset}>\r\n          <RotateCcwIcon />\r\n          Reset\r\n        </Button>\r\n        <Button size=\"sm\" onClick={onRandomize}>\r\n          <ShuffleIcon />\r\n          Randomize\r\n        </Button>\r\n      </div>\r\n      <AngleSlider\r\n        value={value}\r\n        onValueChange={setValue}\r\n        max={360}\r\n        min={0}\r\n        step={1}\r\n        size={80}\r\n      >\r\n        <AngleSliderTrack>\r\n          <AngleSliderRange />\r\n        </AngleSliderTrack>\r\n        <AngleSliderThumb />\r\n        <AngleSliderValue />\r\n      </AngleSlider>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:example",
      "target": ""
    }
  ],
  "type": "registry:example"
}