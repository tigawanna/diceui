{
  "name": "selection-toolbar-demo",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "selection-toolbar"
  ],
  "files": [
    {
      "path": "examples/selection-toolbar-demo.tsx",
      "content": "\"use client\";\r\n\r\nimport { Bold, Copy, Italic, Link, Share2 } from \"lucide-react\";\r\nimport * as React from \"react\";\r\nimport {\r\n  SelectionToolbar,\r\n  SelectionToolbarItem,\r\n  SelectionToolbarSeparator,\r\n} from \"@/registry/bases/radix/ui/selection-toolbar\";\r\n\r\nexport default function SelectionToolbarDemo() {\r\n  const containerRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const wrapSelection = React.useCallback((tagName: string) => {\r\n    const selection = window.getSelection();\r\n    if (!selection || selection.rangeCount === 0) return;\r\n\r\n    const range = selection.getRangeAt(0);\r\n    const selectedText = range.toString();\r\n    if (!selectedText) return;\r\n\r\n    const wrapper = document.createElement(tagName);\r\n    try {\r\n      range.surroundContents(wrapper);\r\n      // Re-select the wrapped content to allow multiple formatting actions\r\n      selection.removeAllRanges();\r\n      const newRange = document.createRange();\r\n      newRange.selectNodeContents(wrapper);\r\n      selection.addRange(newRange);\r\n    } catch {\r\n      // Fallback: extract, wrap, and insert\r\n      wrapper.textContent = selectedText;\r\n      range.deleteContents();\r\n      range.insertNode(wrapper);\r\n      // Re-select the wrapped content\r\n      selection.removeAllRanges();\r\n      const newRange = document.createRange();\r\n      newRange.selectNodeContents(wrapper);\r\n      selection.addRange(newRange);\r\n    }\r\n  }, []);\r\n\r\n  const onBold = React.useCallback(() => {\r\n    wrapSelection(\"strong\");\r\n    console.log({ action: \"bold\" });\r\n  }, [wrapSelection]);\r\n\r\n  const onItalic = React.useCallback(() => {\r\n    wrapSelection(\"em\");\r\n    console.log({ action: \"italic\" });\r\n  }, [wrapSelection]);\r\n\r\n  const onLink = React.useCallback(() => {\r\n    const selection = window.getSelection();\r\n    if (!selection || selection.rangeCount === 0) return;\r\n\r\n    const url = prompt(\"Enter URL:\");\r\n    if (!url) return;\r\n\r\n    const range = selection.getRangeAt(0);\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.className = \"text-primary underline hover:text-primary/80\";\r\n\r\n    try {\r\n      range.surroundContents(link);\r\n      // Re-select the linked content\r\n      selection.removeAllRanges();\r\n      const newRange = document.createRange();\r\n      newRange.selectNodeContents(link);\r\n      selection.addRange(newRange);\r\n    } catch {\r\n      link.textContent = range.toString();\r\n      range.deleteContents();\r\n      range.insertNode(link);\r\n      // Re-select the linked content\r\n      selection.removeAllRanges();\r\n      const newRange = document.createRange();\r\n      newRange.selectNodeContents(link);\r\n      selection.addRange(newRange);\r\n    }\r\n\r\n    console.log({ action: \"link\", url });\r\n  }, []);\r\n\r\n  const onCopy = React.useCallback((text: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    console.log({ action: \"copy\", text });\r\n\r\n    // Clear selection to close the toolbar\r\n    const selection = window.getSelection();\r\n    if (selection) {\r\n      selection.removeAllRanges();\r\n    }\r\n  }, []);\r\n\r\n  const onShare = React.useCallback((text: string) => {\r\n    if (navigator.share) {\r\n      navigator.share({ text });\r\n    }\r\n    console.log({ action: \"share\", text });\r\n\r\n    // Clear selection to close the toolbar\r\n    const selection = window.getSelection();\r\n    if (selection) {\r\n      selection.removeAllRanges();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex min-h-[400px] w-full items-center justify-center\">\r\n      <div\r\n        ref={containerRef}\r\n        contentEditable\r\n        suppressContentEditableWarning\r\n        className=\"max-w-2xl space-y-4 rounded-lg border bg-card p-8 text-card-foreground outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50\"\r\n      >\r\n        <h2 className=\"font-semibold text-2xl\">Medium-Style Text Selection</h2>\r\n        <p className=\"text-muted-foreground leading-relaxed\">\r\n          Select any text in this area to see the floating toolbar appear. The\r\n          toolbar automatically positions itself above the selection and\r\n          includes common formatting options like bold, italic, and link, as\r\n          well as utility actions like copy and share.\r\n        </p>\r\n        <p className=\"text-muted-foreground leading-relaxed\">\r\n          Try selecting text across multiple lines or near the edges of the\r\n          viewport. The menu will automatically adjust its position to stay\r\n          visible and accessible. This creates a seamless editing experience\r\n          similar to popular writing platforms.\r\n        </p>\r\n\r\n        <SelectionToolbar container={containerRef}>\r\n          <SelectionToolbarItem onSelect={onBold}>\r\n            <Bold />\r\n          </SelectionToolbarItem>\r\n          <SelectionToolbarItem onSelect={onItalic}>\r\n            <Italic />\r\n          </SelectionToolbarItem>\r\n          <SelectionToolbarItem onSelect={onLink}>\r\n            <Link />\r\n          </SelectionToolbarItem>\r\n          <SelectionToolbarSeparator />\r\n          <SelectionToolbarItem onSelect={onCopy}>\r\n            <Copy />\r\n          </SelectionToolbarItem>\r\n          <SelectionToolbarItem onSelect={onShare}>\r\n            <Share2 />\r\n          </SelectionToolbarItem>\r\n        </SelectionToolbar>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:example",
      "target": ""
    }
  ],
  "type": "registry:example"
}