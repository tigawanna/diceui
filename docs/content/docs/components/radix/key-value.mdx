---
base: radix
title: Key Value
description: A dynamic input component for managing key-value pairs with paste support and validation.
preview: false
links:
  api: /docs/components/radix/key-value#api-reference
---

<ComponentTabs name="key-value-demo" />

## Installation

### CLI

```package-install
npx shadcn@latest add @diceui/key-value
```

### Manual

<Steps>
  <Step>
     Install the following dependencies:

     ```package-install
     @radix-ui/react-slot lucide-react
     ```
  </Step>
  <Step>
    Copy and paste the refs composition utilities into your `lib/compose-refs.ts` file.

    <ComponentSource name="compose-refs" />
  </Step>
  <Step>
    Copy and paste the visually hidden input component into your `components/visually-hidden-input.tsx` file.

    <ComponentSource name="visually-hidden-input" />
  </Step>
  <Step>
    Copy and paste the following hooks into your `hooks` directory.

    <ComponentSource name="use-isomorphic-layout-effect" />
    <ComponentSource name="use-lazy-ref" />
    <ComponentSource name="use-as-ref" />
  </Step>
  <Step>
    Copy and paste the following code into your project.

    <ComponentSource name="key-value" />
  </Step>
  <Step>
    Update the import paths to match your project setup.
  </Step>
</Steps>

## Layout

Import the parts, and compose them together.

```tsx
import {
  KeyValue,
  KeyValueList,
  KeyValueItem,
  KeyValueKeyInput,
  KeyValueValueInput,
  KeyValueRemove,
  KeyValueError,
  KeyValueAdd,
} from "@/components/ui/key-value";

return (
  <KeyValue>
    <KeyValueList>
      <KeyValueItem>
        <KeyValueKeyInput />
        <KeyValueValueInput />
        <KeyValueRemove />
        <KeyValueError field="key" />
        <KeyValueError field="value" />
      </KeyValueItem>
    </KeyValueList>
    <KeyValueAdd />
  </KeyValue>
)
```

## Examples

### With Paste Support

Paste multiple key-value pairs at once. Supports formats like `KEY=VALUE`, `KEY: VALUE`, and tab-separated values.

<ComponentTabs name="key-value-paste-demo" />

### With Validation

Add validation rules for keys and values with error messages.

<ComponentTabs name="key-value-validation-demo" />

### With Form

Integrate with React Hook Form for form validation.

<ComponentTabs name="key-value-form-demo" />

## API Reference

### KeyValue

The main container component that manages the key-value items state.

<AutoTypeTable
  path="types/docs/key-value.ts"
  name="KeyValueProps"
/>

<DataAttributesTable
  data={[
    {
      title: "[data-disabled]",
      value: "Present when disabled",
    },
    {
      title: "[data-invalid]",
      value: "Present when any item has validation errors",
    },
    {
      title: "[data-readonly]",
      value: "Present when read-only",
    },
  ]}
/>

### KeyValueList

Container for rendering the list of key-value items.

<AutoTypeTable
  path="types/docs/key-value.ts"
  name="KeyValueListProps"
/>

<DataAttributesTable
  data={[
    {
      title: "[data-orientation]",
      value: "vertical | horizontal",
    },
  ]}
/>

### KeyValueItem

Individual key-value pair item container.

<AutoTypeTable
  path="types/docs/key-value.ts"
  name="KeyValueItemProps"
/>

<DataAttributesTable
  data={[
    {
      title: "[data-highlighted]",
      value: "Present when item is highlighted/focused",
    },
  ]}
/>

### KeyInput

Input field for the key part of the item.

<AutoTypeTable
  path="types/docs/key-value.ts"
  name="KeyValueKeyInputProps"
/>

### ValueInput

Input field for the value part of the item.

<AutoTypeTable
  path="types/docs/key-value.ts"
  name="KeyValueValueInputProps"
/>

### KeyValueRemove

Button to remove a key-value item.

<AutoTypeTable
  path="types/docs/key-value.ts"
  name="KeyValueRemoveProps"
/>

### KeyValueAdd

Button to add a new key-value item.

<AutoTypeTable
  path="types/docs/key-value.ts"
  name="KeyValueAddProps"
/>

### KeyValueError

Error message display for validation errors.

<AutoTypeTable
  path="types/docs/key-value.ts"
  name="KeyValueErrorProps"
/>

## Accessibility

### Keyboard Interactions

<KeyboardShortcutsTable
  data={[
    {
      keys: ["Tab"],
      description: "Navigate between key inputs, value inputs, and buttons.",
    },
    {
      keys: ["Enter"],
      description: "Submit the current input value.",
    },
    {
      keys: ["Escape"],
      description: "Cancel the current input.",
    },
    {
      keys: ["Ctrl", "V"],
      description: "Paste multiple key-value pairs (supports multiple formats).",
    },
  ]}
/>

## Features

- **Dynamic Items**: Add and remove key-value pairs dynamically
- **Paste Support**: Paste multiple items at once in various formats (`KEY=VALUE`, `KEY: VALUE`, tab-separated)
- **Validation**: Built-in validation for keys and values with custom validators
- **Duplicate Detection**: Optional prevention of duplicate keys
- **Item Limits**: Set minimum and maximum item counts
- **Form Integration**: Works seamlessly with React Hook Form
- **Controlled/Uncontrolled**: Supports both controlled and uncontrolled patterns
- **Accessibility**: Full keyboard navigation and screen reader support
- **Customizable**: Fully customizable styling and behavior

## Paste Formats

The component supports pasting multiple key-value pairs in the following formats:

```
KEY=VALUE
DATABASE_URL=postgresql://localhost:5432
API_KEY=sk-1234567890

KEY: VALUE
DATABASE_URL: postgresql://localhost:5432
API_KEY: sk-1234567890

KEY	VALUE (tab-separated)
DATABASE_URL	postgresql://localhost:5432
API_KEY	sk-1234567890
```

When pasting multiple lines, the component will automatically parse and create separate items for each line.
