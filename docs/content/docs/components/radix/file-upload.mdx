---
base: radix
title: File Upload
description: A file upload component with drag and drop, previewing, and progress tracking.
preview: false
links:
  api: /docs/components/radix/file-upload#api-reference
---

<ComponentTabs name="file-upload-demo" align="start" className="p-8" />

## Installation

### CLI

```package-install
npx shadcn@latest add @diceui/file-upload
```

### Manual

<Steps>
  <Step>
     Install the following dependencies:

     ```package-install
     @radix-ui/react-slot
     ```
  </Step>
  <Step>
    Copy and paste the following hook into your `hooks` directory.

    <ComponentSource name="use-lazy-ref" />
  </Step>
  <Step>
    Copy and paste the following code into your project.

    <ComponentSource name="file-upload" />
  </Step>
  <Step>
    Update the import paths to match your project setup.
  </Step>
</Steps>

## Layout

Import the parts, and compose them together.

```tsx
import {
  FileUpload,
  FileUploadDropzone,
  FileUploadTrigger,
  FileUploadList,
  FileUploadItem,
  FileUploadItemPreview,
  FileUploadItemMetadata,
  FileUploadItemProgress,
  FileUploadItemDelete,
  FileUploadClear,
} from "@/components/ui/file-upload";

return (
  <FileUpload>
    <FileUploadDropzone />
    <FileUploadTrigger />
    <FileUploadList>
      <FileUploadItem>
        <FileUploadItemPreview />
        <FileUploadItemMetadata />
        <FileUploadItemProgress />
        <FileUploadItemDelete />
      </FileUploadItem>
    </FileUploadList>
    <FileUploadClear />
  </FileUpload>
)
```

## Examples

### With Validation

Validate files with the `onFileValidate` prop on the `Root` component based on type, size, and custom rules. This will override the default file rejection message.

<ComponentTabs name="file-upload-validation-demo" align="start" className="p-8" />

### Direct Upload

Upload files directly with the `onUpload` prop on the `Root` component.

<ComponentTabs name="file-upload-direct-upload-demo" align="start" className="p-8" />

### Circular Progress

Render a circular progress indicator instead of a linear one by enabling the `circular` prop on the `ItemProgress` component.

<ComponentTabs name="file-upload-circular-progress-demo" align="start" />

### Fill Progress

Render a fill progress indicator instead of a linear one by enabling the `fill` prop on the `ItemProgress` component.

<ComponentTabs name="file-upload-fill-progress-demo" align="start" />

### With uploadthing

Integrate with [uploadthing](https://uploadthing.com) for secure, type-safe file uploads with real-time progress tracking.

<ComponentTabs name="file-upload-uploadthing-demo" align="start" className="p-8" />

### With Chat Input

Integrate into a chat input for uploading files. For demo the `Dropzone` is absolutely positioned to cover the entire viewport.

<ComponentTabs name="file-upload-chat-input-demo" align="start" fullPreview />

### With Form

Use the `value` and `onValueChange` props to handle file uploads with validation and submission.

<ComponentTabs name="file-upload-form-demo" align="start" className="p-8" />

## API Reference

### FileUpload

The main container component for the file upload functionality.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadProps"
/>

### FileUploadDropzone

A container for drag and drop functionality.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadDropzoneProps"
/>

<DataAttributesTable
  data={[
    {
      title: "[data-disabled]",
      value: "Present when the dropzone is disabled.",
    },
    {
      title: "[data-dragging]",
      value: "Present when files are being dragged over the dropzone.",
    },
    {
      title: "[data-invalid]",
      value: "Present when there was an error with the files being uploaded.",
    },
  ]}
/>

### FileUploadTrigger

A button that opens the file selection dialog.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadTriggerProps"
/>

<DataAttributesTable
  data={[
    {
      title: "[data-disabled]",
      value: "Present when the trigger is disabled.",
    }
  ]}
/>

### FileUploadList

A container for displaying uploaded files.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadListProps"
/>

<DataAttributesTable
  data={[
    {
      title: "[data-orientation]",
      value: ["horizontal", "vertical"],
    },
    {
      title: "[data-state]",
      value: ["active", "inactive"],
    },
  ]}
/>

### FileUploadItem

Individual file item component.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadItemProps"
/>

### FileUploadItemPreview

Displays a preview of the file, showing an image for image files or an appropriate icon for other file types.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadItemPreviewProps"
/>

### FileUploadItemMetadata

Displays file information such as name, size, and error messages.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadItemMetadataProps"
/>

### FileUploadItemProgress

Shows the upload progress for a file.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadItemProgressProps"
/>

### FileUploadItemDelete

A button to remove a file from the list.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadItemDeleteProps"
/>

### FileUploadClear

A button to clear all files from the list.

<AutoTypeTable
  path="./types/docs/file-upload.ts"
  name="FileUploadClearProps"
/>

<DataAttributesTable
  data={[
    {
      title: "[data-disabled]",
      value: "Present when the clear button is disabled.",
    },
  ]}
/>

## Accessibility

### Keyboard Interactions

<KeyboardShortcutsTable
  data={[
    {
      keys: ["Enter", "Space"],
      description: "When focus is on the dropzone or trigger, opens the file selection dialog.",
    },
    {
      keys: ["Tab"],
      description: "Moves focus between the dropzone, trigger, and file delete buttons.",
    },
    {
      keys: ["Shift + Tab"],
      description: "When the dropzone is focused, moves focus away from the dropzone.",
    },
  ]}
/>

## Credits

- [Building a Hold to Delete Component](https://emilkowal.ski/ui/building-a-hold-to-delete-component) - For the fill progress indicator.
